<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>08-视频流处理 | AoSaiX</title><meta name="description" content="Blog for study, life and hobby.">
    <link rel="preload" href="/blog-vp-reco/assets/style-CO2hMFE6.css" as="style"><link rel="stylesheet" href="/blog-vp-reco/assets/style-CO2hMFE6.css">
    <link rel="modulepreload" href="/blog-vp-reco/assets/app-DPGM4BTH.js"><link rel="modulepreload" href="/blog-vp-reco/assets/08_shipinliuchuli.html-CCfpAmrx.js">
    <link rel="prefetch" href="/blog-vp-reco/assets/timeline.html-BB7nkDum.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/posts.html-Cvo6EfTe.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/friendship-link.html-Dpc5H6H7.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/custom-page.html-3CIQ4n-V.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-C-Oqt4M0.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-BTb4tgnh.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DySy79ZF.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-Dg1yG-ym.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/3.html-svV89RGa.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-C_Bb2SXx.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-vx3RNmf7.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CbU4UYgP.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-CZcnIWel.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BKuGSXdo.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CFOlEgcs.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DJ579PRU.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BftYXkHM.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-Bc7NTXHB.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BHteaJas.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-8toqWy_-.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CtML9vg8.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-C1oxJFPg.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-DsRx2g9d.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/3.html-Cgx9hLg4.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BNj_FGgn.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-D5a6WJss.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/3.html-RaIXZYXP.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CHB2tGaR.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CjNMUUB7.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DIqotPoi.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-iTucFj6h.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-vk3XSti0.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CdSHCsr2.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CCMTygyV.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BHTGgd2x.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-C0i3gxvL.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CtJucxs2.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BPphYK_1.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CvuNgDP0.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-b9XZILUv.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-rtAepMa8.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CS9ShH4F.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-lDEwWG0f.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DxYKJonV.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DfQWnJGV.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DZUgM7iC.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CZJTqidS.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DlSYkNRW.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DYxM4q4q.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CXc_E8JF.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-Cv3iDbsS.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CmZ2w2Xy.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CDQAPSIh.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CkFAl8dd.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DN3FbX6T.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DGnThFX_.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-Bgm1SfxL.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-D-py_hsf.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BPwfgsBT.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-Cn_WEtSn.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-B9EzFjHE.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-B0IF--3S.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-SwU1xWt0.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-ahn7S2_i.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-DMRGWteV.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-CJl1GuvA.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BUcPGL6-.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-BHi_EWYZ.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-B08XyaLL.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/1.html-kCbRIONg.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/2.html-CcpHuWuw.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/3.html-CIIAHCeD.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/4.html-DQYGrGvo.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/5.html-hZw0ntbe.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/6.html-D4Xu8eyf.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/7.html-CgU3n4zi.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/index.html-BSsJ5XCy.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/update_record.html-fMftwJoJ.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/vuepress-recojiaocheng.html-BxXg7utF.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_compress_photo.html-DpKoaczp.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_file_packaging.html-B1q_lsJ3.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_pyqt5_recording.html-C_9E6LxW.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/04_spider_for_ticket.html-BWwMpg-q.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/index.html-BRTKXe4v.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/Introduction.html-BpQ-hP7-.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/Introduction.html-9Z-IT87l.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_zongshu.html-BgPmNiEF.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_tuxiangxiufurumen.html-DUOhf6-C.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_xxx.html-C0YWHe0c.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_zongshu.html-DnJs7VO5.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_xxx.html-NbsRcyqM.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_xxx.html-BQUSlbUq.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_xxx.html-CD5k1kPy.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_xxx.html-C9hoeeKg.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_bairuzongmen.html-BFpOqdrb.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_aolianjingu.html-CfujCBjY.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_fargoing.html-_OFA8ipC.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_shanxi.html-BlI00M0l.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_sichuan.html-_r04fqV7.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/00.html-D6JRNusC.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01.html-CttAplcv.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_base.html-Dzy1XJne.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_project1.html-CYb8bJBO.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_project2.html-qC_IhW10.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_project1.html-LWHJTrud.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/index.html-CJX6LnGO.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_introduction.html-nYyMrDwp.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_linear_regression.html-Ck5Gmhp-.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_linear_regression.html-CgWkfY47.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/04_classification.html-BDW4SEJF.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/05_deep_learning.html-CiMj9Cus.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/06_tensorflow.html-CW__4SIE.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/07_model_evaluation.html-CfCprqr_.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/08_decision_tree.html-DU0YhRDX.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/09_unsupervised_learning.html-BtZTYTNN.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/10_recommendation_system.html-_3ZebEzP.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/11_reinforcement_learning.html-D5of4asf.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/00_introduction.html-DJs7b1lM.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_recommend_model.html-rgFZj1Lr.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA1.html-DrVPofQG.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA10.html-DV8gUgB3.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA11.html-E_4fsU20.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA12.html-jpl5e5HS.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA13.html-DjHUhbzm.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA14.html-DAT672OE.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA15.html-BeDlcHhv.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA16.html-CIRyIvpf.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA17.html-BZH8kuFj.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA18.html-D6g52Wgr.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA19.html-41VaVmfB.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA2.html-CdbiQ01f.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA20.html-Bk14lN94.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA3.html-DIFAUOFP.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA4.html-ChdV0NpY.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA5.html-BuMrLMSl.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA6.html-oTSIszxK.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA7.html-ByAfqYxY.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA8.html-BY5niUvp.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/LA9.html-Bv6Kt-xK.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/ML1.html-BYzpoXpl.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/01_zongshu.html-DwfXCnOs.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/02_jichucaozuo.html-Dt4nDU_L.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/03_zaoshengyulvbo.html-BkSICD4y.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/04_ruihuayujunhenghua.html-DPzQcQo8.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/05_xingtaixueyuyunsuan.html-BnGTCNdG.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/06_yuzhiyulunkuo.html-GA-0Jdye.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/07_xinhaoyutuxiang.html-O6ge8hHI.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/09_yasuoyubianma.html-D7vh-JJk.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/10_huizhituxingyuwenben.html-CHh0El5C.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/11_tezhengyuARzengqiang.html-neQR4ZOY.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/12_guangliuyuyundongfenxi.html-CLFmHiHc.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/20_xinhaoyutuxiang.html-D_AtIgO6.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/30_xinhaoyutuxiang.html-BogtFd_4.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/404.html-BQTnuIue.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/blog-vp-reco/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container show-series show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/blog-vp-reco/logo1.svg" alt="AoSaiX"><a href="/blog-vp-reco/" class="site-name can-hide">AoSaiX</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="机器学习"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->机器学习<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="机器学习"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->机器学习<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/MachineLearning/MachineLearning/01_introduction" class="link" aria-label="机器学习(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->机器学习(未整理)<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/MachineLearning/recommendationSystem/00_introduction" class="link" aria-label="推荐系统(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->推荐系统(未整理)<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="数据锻造坊"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->数据锻造坊<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="数据锻造坊"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->数据锻造坊<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/DataFoundry/Numpy/01_拜入宗门" class="link" aria-label="Numpy"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Numpy<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/DataFoundry/Matplotlib/01_xxx" class="link" aria-label="Matplotlib"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Matplotlib<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="深度学习"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->深度学习<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="深度学习"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->深度学习<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/DeepLearning/PyTorch/README.md" class="link" aria-label="PyTorch(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->PyTorch(未整理)<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="计算机视觉"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->计算机视觉<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="计算机视觉"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->计算机视觉<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/01_综述" class="link" aria-label="图像处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->图像处理<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/ComputerVision/ImageGeneration/01_综述" class="link" aria-label="图像生成"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->图像生成<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/ComputerVision/TargetDetection/01_综述" class="link" aria-label="目标检测"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->目标检测<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="每日一题"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->每日一题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="每日一题"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->每日一题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/CodeExam/AI/Introduction" class="link" aria-label="AI算法篇"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->AI算法篇<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="书院二层楼"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->书院二层楼<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="书院二层楼"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->书院二层楼<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Reco内置<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/blog-vp-reco/timeline" class="link" aria-label="时间轴"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->时间轴<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/blog-vp-reco/friendship-link" class="link" aria-label="友情链接"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->友情链接<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->个人手札<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/blog-vp-reco/docs/update_record" class="link" aria-label="更新日志"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->更新日志<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/blog-vp-reco/docs/desktop_app/README.md" class="link" aria-label="桌面软件开发(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->桌面软件开发(未整理)<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="逐趣成章"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->逐趣成章<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="逐趣成章"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->逐趣成章<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/Hobbies/mahjong/01_fargoing" class="link" aria-label="雀神之路(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->雀神之路(未整理)<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog-vp-reco/blogs/Hobbies/musictheroy/00" class="link" aria-label="音乐科学(未整理)"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->音乐科学(未整理)<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><header class="sub-navbar-container not-open"><span class="nav-item"><div class="toggle-series-button" aria-expanded="false" role="button" tabindex="0"><span></span><span></span><span></span></div> Series </span></header><!----><!----><div class="theme-main" style=""><aside class="series-container"><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading series-level-1 active"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:16px;"><!--[-->OpenCV 入门<!--]--></span></span><span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/01_zongshu.html" class="link series-item series-item" aria-label="01-图像处理综述"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->01-图像处理综述<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/02_jichucaozuo.html" class="link series-item series-item" aria-label="02-基础操作"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->02-基础操作<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/03_zaoshengyulvbo.html" class="link series-item series-item" aria-label="03-噪声与平滑化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->03-噪声与平滑化<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/04_ruihuayujunhenghua.html" class="link series-item series-item" aria-label="04-锐化与均衡化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->04-锐化与均衡化<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/05_xingtaixueyuyunsuan.html" class="link series-item series-item" aria-label="05-形态学与运算"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->05-形态学与运算<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/06_yuzhiyulunkuo.html" class="link series-item series-item" aria-label="06-阈值分割与边缘检测"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->06-阈值分割与边缘检测<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/07_xinhaoyutuxiang.html" class="link series-item series-item" aria-label="07-信号与图像"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->07-信号与图像<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html" class="router-link-active router-link-exact-active link router-link-active series-item series-item" aria-label="08-视频流处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->08-视频流处理<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/09_yasuoyubianma.html" class="link series-item series-item" aria-label="09-压缩与编码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->09-压缩与编码<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/10_huizhituxingyuwenben.html" class="link series-item series-item" aria-label="10-绘制图形与文本"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->10-绘制图形与文本<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/11_tezhengyuARzengqiang.html" class="link series-item series-item" aria-label="11-特征与AR增强"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->11-特征与AR增强<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/12_guangliuyuyundongfenxi.html" class="link series-item series-item" aria-label="12-光流与运动分析"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->12-光流与运动分析<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading series-level-1"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:16px;"><!--[-->OpenCV 进阶<!--]--></span></span><span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV2/20_xinhaoyutuxiang.html" class="link series-item series-item" aria-label="信号与图像"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->信号与图像<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading series-level-1"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:16px;"><!--[-->OpenCV 实战<!--]--></span></span><span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV3/30_xinhaoyutuxiang.html" class="link series-item series-item" aria-label="信号与图像"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->信号与图像<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--]--></aside><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">08-视频流处理</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->AoSaiX<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/10/10<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog-vp-reco/categories/OpenCV/1.html" class="">OpenCV</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog-vp-reco/tags/tuxiangchuli/1.html" class="">图像处理</a><a href="/blog-vp-reco/tags/shipinchuli/1.html" class="">视频处理</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="_1-相机画面处理" tabindex="-1"><a class="header-anchor" href="#_1-相机画面处理"><span>1. 相机画面处理</span></a></h2><p>捕捉实时的摄像头/相机画面是有很多实际应用的，比如日常生活中的车库停车的车牌识别、交通摄像头的违规车辆识别、远程考试的监控等等。</p><h3 id="_1-1-读取相机画面" tabindex="-1"><a class="header-anchor" href="#_1-1-读取相机画面"><span>1.1 读取相机画面</span></a></h3><p>在 OpenCV 中，使用 <mark>cv2.VideoCapture()</mark> 函数来获取一个视频载体的对象，不管是图像序列、视频文件还是相机，都用它。它所必需的参数是 index_camera，表示要读取的相机的索引。如果有一个摄像头连接到计算机，它的索引为 0，如果有第二个，可以通过传递参数 1 的方式来选择它，依次类推。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"></span>
<span class="line">capture <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们在实际运行的过程中，要检查连接是否正常啊，如果不正常也是需要返回信息给使用者的。<mark>.isOpened()</mark> 方法返回一个布尔值，如果可以建立连接，返回 True；如果不行，返回 False。我们可以通过这个方法做一个检测：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">if</span> capture<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">False</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Error opening the camera&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>有了视频载体，也要有画面对吧？我记得上初中的时候老师说过，当人眼一秒钟看 24 张连续的图片的时候，它就是视频，因为我们分辨不出来。现在手机所说的高刷新率，比如苹果 17 的 120hz，就是一秒钟屏幕刷新的次数为 120 次。</p><p>我们把每一张图片叫做 1 帧画面，同样，在相机中捕获的视频流也是通过 <strong>每一帧的画面</strong> 进行读取的。通过 <mark>.read()</mark> 方法从视频载体中获取帧画面，它同时还会返回一个布尔值，表示是否已从 capture 对象中正确的读取到帧。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">while</span> capture<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 因为是逐帧获取画面，所以需要用循环，不间断的获取</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> capture<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> ret <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 使用 imshow 显示捕获的帧画面</span></span>
<span class="line">        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&quot;real time vidio from camera&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 对捕获的帧画面（图像）可以进行处理，比如转为灰度图</span></span>
<span class="line">        gray_frame <span class="token operator">=</span> cv2<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span></span>
<span class="line">        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&quot;Grayscale vidio from camera&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每 1 帧图像都可以对其处理，但需要注意的是，处理图像是需要消耗算力资源与时间的，越复杂消耗的时间越长，在实时的镜头中，比如腾讯会议，会出现卡顿、掉帧的情况，所以<mark>在实时的视频流处理中，尽可能地选择轻量的处理方式</mark>。</p><p>在 imshow() 的 GUI 中，我们可以直接点击关闭按钮退出程序。也可以自定义键盘事件来进行处理：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">    <span class="token keyword">if</span> ret <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 释放视频载体对象，并销毁创建的窗口</span></span>
<span class="line">capture<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-扩展-自定义按键退出" tabindex="-1"><a class="header-anchor" href="#_1-2-扩展-自定义按键退出"><span>1.2 扩展：自定义按键退出</span></a></h3><p><mark>cv2.waitKey()</mark> 是 OpenCV 用来等待键盘事件的函数。本质上咱直接写一个 cv2.waitKey(0)，随便按一下键盘，它就退出了。但是这样很容易出现问题，比如误触了，关键时刻就很难受。所以，我们来解析一下键盘事件的条件判断：</p><table><thead><tr><th>字符</th><th>十进制 ASCII</th><th>十六进制</th><th>二进制（8 位）</th></tr></thead><tbody><tr><td>&#39;q&#39;</td><td>113</td><td>0x71</td><td>01110001</td></tr></tbody></table><p><strong>ord(&#39;q&#39;)</strong> 返回 q 字符对应的 8 位 ASCII 值，这个很好理解，就是上述表格的最后。但是 <strong>cv2.waitKey()</strong> 获取的 q 键的值，是随系统发生变化的：</p><table><thead><tr><th>操作系统</th><th>&quot;Q&quot; 的十进制 ASCII</th><th>十六进制</th><th>二进制（16 位）</th></tr></thead><tbody><tr><td>Windows</td><td>113</td><td>0x0071</td><td>00000000 01110001</td></tr><tr><td>Linux</td><td>65393</td><td>0xFF71</td><td>11111111 01110001</td></tr><tr><td>macOS</td><td>113</td><td>0x0071</td><td>00000000 01110001</td></tr></tbody></table><p>可以看到，如果是在 Linux 系统上，直接进行条件判断，就会报错。我们需要通过和 0xFF 的按位与（&amp;）操作，将 16 位键码，压缩成 8 位的 ASCII 码，它是怎么做的呢？：</p><div class="language-note line-numbers-mode" data-highlighter="prismjs" data-ext="note" data-title="note"><pre><code><span class="line">0xFF71 = 11111111 01110001</span>
<span class="line">0x00FF = 00000000 11111111</span>
<span class="line">---------------------------</span>
<span class="line">结果 = 00000000 01110001 = 0x71 = 113</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从计算可以看出，0xFF 的按位与，可以把高 8 位二进制数值消除掉，而低 8 位二进制最大为 256，键盘上没有什么值是比 256 更大的了，所以对于任何键盘值，我们都以用这种方式来自定义按键退出程序。</p><h3 id="_1-3-实时画面的属性" tabindex="-1"><a class="header-anchor" href="#_1-3-实时画面的属性"><span>1.3 实时画面的属性</span></a></h3><p>实时画面中的常见属性主要有三个，可以通过 get 方法获取属性，也可以通过 set 方法修改属性：</p><ol><li><mark>cv2.CAP_PROP_FRAME_WIDTH</mark>：视频帧宽度</li><li><mark>cv2.CAP_PROP_FRAME_HEIGHT</mark>：视频帧高度</li><li><mark>cv2.CAP_PROP_FPS</mark>：视频帧率</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line">capture <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取实时视频流属性</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;video width:&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>capture<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;video height:&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>capture<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;video FPS:&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>capture<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 修改设置实时视频流属性</span></span>
<span class="line">capture<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_WIDTH<span class="token punctuation">,</span> <span class="token number">1280</span><span class="token punctuation">)</span></span>
<span class="line">capture<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_HEIGHT<span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">)</span></span>
<span class="line">capture<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FPS<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一般情况下，高度和宽度都是可以修改的，但是帧率不一定，要看摄像头的说明。</p><h3 id="_1-4-手动计算帧率" tabindex="-1"><a class="header-anchor" href="#_1-4-手动计算帧率"><span>1.4 手动计算帧率</span></a></h3><p>影响帧率的三个主要因素有 <strong>分辨率、接口带宽、曝光与光照</strong>：</p><ul><li>分辨率越高，帧率越低（因为带宽和传输限制）。比如 640×480 可达 60 FPS，但 1920×1080 常为 30 FPS。</li><li>USB 2.0 通常限制在 30 FPS@1080p 左右，USB 3.0 才能上 60 FPS。网络摄像头则受网速与编码影响。</li><li>弱光条件下，摄像头会自动延长曝光时间，从而降低实际帧率（比如夜晚时从 30 FPS 掉到 15 FPS）。</li></ul><p>一般来说 FPS 都是越高越好，但是，算法每秒应处理的帧数取决于需要解决的特定问题。例如，如果算法需要跟踪和检测在街上游走的行人，那么 15 FPS 可能就足够了；如果是检测和跟踪高速公路上快速行驶的汽车，可能需要 20~30 FPS。</p><p>我们已经知道，很多摄像头不一定是固定的 FPS，它会随着一些因素变化，比如弱光条件，所以有的时候我们也需要手动计算 FPS：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> time</span>
<span class="line"></span>
<span class="line"><span class="token keyword">while</span> capture<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> capture<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> ret <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">        processing_start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 处理开始事件</span></span>
<span class="line">        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&quot;Input frame from camera&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        processing_end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 处理结束事件</span></span>
<span class="line">        precessing_time <span class="token operator">=</span> processing_end <span class="token operator">-</span> processing_start</span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;FPS: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token number">1.0</span> <span class="token operator">/</span> precessing_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>  <span class="token comment"># 计算帧率并打印</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-扩展-摄像头帧率分布" tabindex="-1"><a class="header-anchor" href="#_1-5-扩展-摄像头帧率分布"><span>1.5 扩展：摄像头帧率分布</span></a></h3><p>常见的各类摄像头帧率范围总览：</p><table><thead><tr><th>摄像头类型</th><th>常见分辨率</th><th>典型帧率（FPS）</th><th>说明</th></tr></thead><tbody><tr><td>💻 <strong>笔记本内置摄像头</strong></td><td>720p / 1080p</td><td><strong>15–30 FPS</strong></td><td>主要为视频会议设计，通常固定 30 FPS。部分低端型号甚至 15 FPS。</td></tr><tr><td>🔌 <strong>普通 USB 摄像头</strong></td><td>720p / 1080p</td><td><strong>15–60 FPS</strong></td><td>普通网络摄像头（如罗技 C270、C920）在低分辨率下可达 60 FPS，高分辨率时多为 30 FPS。</td></tr><tr><td>📹 <strong>安防/监控摄像头（IPC）</strong></td><td>1080p / 2K / 4K</td><td><strong>20–30 FPS</strong>（有时 15 FPS）</td><td>追求稳定与存储节约，通常锁定 25–30 FPS。夜视模式下可能降到 15 FPS。</td></tr><tr><td>📱 <strong>手机前/后置摄像头</strong></td><td>1080p / 4K</td><td><strong>30–60 FPS</strong>（视频模式）</td><td>视频拍摄通常 30 FPS 或 60 FPS。部分高端机支持 120/240 FPS 慢动作模式。</td></tr><tr><td>📷 <strong>数码相机 / 无反相机</strong></td><td>1080p / 4K</td><td><strong>24–120 FPS</strong></td><td>可调节帧率以匹配影视标准（24/30/60 FPS 等）。</td></tr><tr><td>🎮 <strong>游戏摄像头 / 高速运动捕捉</strong></td><td>720p / 1080p</td><td><strong>60–240 FPS</strong></td><td>用于动作捕捉或手势识别。</td></tr><tr><td>⚙️ <strong>工业相机（机器视觉）</strong></td><td>VGA ～ 2K</td><td><strong>30–240 FPS</strong></td><td>高速检测用途，可达数百帧，但分辨率较低时才行。</td></tr></tbody></table><h3 id="_1-6-保存帧画面与视频" tabindex="-1"><a class="header-anchor" href="#_1-6-保存帧画面与视频"><span>1.6 保存帧画面与视频</span></a></h3><p>如果说，我们遇到了一些感兴趣的画面，并且想记录为图像的形式，我们可以通过 <mark>cv2.imwrite()</mark> 方法来写入文件。比如这里，我们用 q 表示退出，用 c 表示截取画面：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">frame_index <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"><span class="token keyword">while</span> capture<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> capture<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> ret <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            frame_name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;camera_frame_</span><span class="token interpolation"><span class="token punctuation">{</span>frame_index<span class="token punctuation">}</span></span><span class="token string">.png&quot;</span></span></span>
<span class="line">            cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span>frame_name<span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">            frame_index <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span> <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>那么如果我们想保存成视频呢？不要着急，<mark>cv2.VideoWriter()</mark> 方法可以在本地直接写入视频文件。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"></span>
<span class="line">capture <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># 打开摄像头</span></span>
<span class="line">fourcc <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoWriter_fourcc<span class="token punctuation">(</span><span class="token operator">*</span><span class="token string">&#39;XVID&#39;</span><span class="token punctuation">)</span>  <span class="token comment"># 定义编码器（FourCC）</span></span>
<span class="line"><span class="token comment"># out = cv2.VideoWriter(&#39;output.avi&#39;, fourcc, fps, (frame_width, frame_height))</span></span>
<span class="line">out <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line">recording <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line">index <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;按 C 开始/停止录制：按 &#39;q&#39; 退出实时画面捕捉&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">while</span> capture<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> capture<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">not</span> ret<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&#39;Camera&#39;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">    key <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">not</span> recording<span class="token punctuation">:</span></span>
<span class="line">            out <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoWriter<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;output_</span><span class="token interpolation"><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token string">.avi&#39;</span></span><span class="token punctuation">,</span> fourcc<span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">,</span></span>
<span class="line">                                    <span class="token punctuation">(</span>frame<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> frame<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            recording <span class="token operator">=</span> <span class="token boolean">True</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;🎥 开始录制...&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">            recording <span class="token operator">=</span> <span class="token boolean">False</span></span>
<span class="line">            out<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;⏹ 暂停录制，视频已保存为 output_</span><span class="token interpolation"><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token string">.avi&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        index <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> recording<span class="token punctuation">:</span></span>
<span class="line">            out<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;录制结束，视频已保存为 output_</span><span class="token interpolation"><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token string">.avi&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;🖥️ 退出实时监控&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 如果正在录制，则保存当前帧</span></span>
<span class="line">    <span class="token keyword">if</span> recording <span class="token keyword">and</span> out <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">        out<span class="token punctuation">.</span>write<span class="token punctuation">(</span>frame<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 释放资源</span></span>
<span class="line">capture<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-7-扩展-视频编码器与格式" tabindex="-1"><a class="header-anchor" href="#_1-7-扩展-视频编码器与格式"><span>1.7 扩展：视频编码器与格式</span></a></h3><ul><li><mark>FourCC（Four Character Code）</mark>：即四字符编码器标识符，表示采用哪种视频编码算法（压缩方式）。例如：XVID, MJPG, H264, mp4v。</li><li><mark>文件后缀（容器格式）</mark>：表示视频文件的封装格式（容器），例如 .avi、.mp4、.mov。容器负责存放压缩视频流、音频流、时间戳等元数据。</li></ul><p>虽然 FourCC 编码器 与 封装格式 并不相同，但两者必须 “兼容” 才能正常播放。常见 FourCC 与文件格式对应表：</p><table><thead><tr><th>FourCC（编码器）</th><th>推荐文件后缀（容器）</th><th>压缩特性</th><th>播放兼容性</th></tr></thead><tbody><tr><td><code>&#39;XVID&#39;</code></td><td><code>.avi</code></td><td>MPEG-4 Part 2 编码，压缩好，兼容性强（OpenCV 默认推荐）</td><td>✅ Windows / VLC / OpenCV</td></tr><tr><td><code>&#39;DIVX&#39;</code></td><td><code>.avi</code></td><td>类似 XVID</td><td>✅</td></tr><tr><td><code>&#39;MJPG&#39;</code></td><td><code>.avi</code> / <code>.mjpg</code></td><td>Motion JPEG（逐帧压缩）</td><td>✅ 快速但文件较大</td></tr><tr><td><code>&#39;mp4v&#39;</code></td><td><code>.mp4</code> / <code>.avi</code></td><td>MPEG-4 编码，较现代</td><td>✅ 推荐一般用途</td></tr><tr><td><code>&#39;H264&#39;</code> / <code>&#39;X264&#39;</code></td><td><code>.mp4</code> / <code>.mov</code></td><td>H.264 编码，压缩高效</td><td>⚠️ 需要系统安装 H.264 支持</td></tr><tr><td><code>&#39;avc1&#39;</code></td><td><code>.mp4</code></td><td>H.264 的另一种标识</td><td>✅</td></tr><tr><td><code>&#39;WMV1&#39;</code> / <code>&#39;WMV2&#39;</code></td><td><code>.avi</code> / <code>.wmv</code></td><td>Windows Media Video</td><td>⚠️ 仅 Windows 播放器兼容</td></tr><tr><td><code>&#39;IYUV&#39;</code> / <code>&#39;YUYV&#39;</code></td><td><code>.avi</code></td><td>原始 YUV 格式（未压缩）</td><td>⚙️ 文件极大，调试用</td></tr></tbody></table><h3 id="_1-8-读取-ip-摄像机" tabindex="-1"><a class="header-anchor" href="#_1-8-读取-ip-摄像机"><span>1.8 读取 IP 摄像机</span></a></h3><p>IP 摄像机其实就是网络摄像机，它的本质是：把摄像头 + 编码器 + 网络模块集成在一起，可以通过 IP 网络（局域网或互联网） 直接传输视频流的摄像头。实际的使用场景有：</p><ul><li>家庭智能监控：手机随时查看家中画面</li><li>商铺 / 公司安防：通过 NVR 管理多个 IP 摄像机</li><li>工业 / 交通监控：远程监控生产线或路口</li><li>智慧城市：智能分析、视频流接入大数据平台</li></ul><p>我们可以拿一些 <strong>合法且常见的“公开”摄像头</strong> 来练手：</p><ul><li><a href="https://www.earthcam.com/" target="_blank" rel="noopener noreferrer">EarthCam — 大量城市地标、港口、景点的公开摄像头（面向公众）。<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://explore.org/" target="_blank" rel="noopener noreferrer">Explore.org — 大量自然/野生动物直播（熊、海狮、熊钓鱼等），面向公众。<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.dot.nv.gov/travel-info/road-conditions/traffic-cameras" target="_blank" rel="noopener noreferrer">各州 / 各国的交通管理局（State DOT）发布的路况摄像头 / 交通摄像头（通常网页列出并允许公众查看）。示例：Nevada DOT、WSDOT 等。<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://weathercams.faa.gov/map/-179.30371,23.35029,-56.69629,71.75605" target="_blank" rel="noopener noreferrer">FAA / 气象机构或国家公园等托管的气象/景观摄像头（用于公共服务 / 教育）。<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="_2-视频文件处理" tabindex="-1"><a class="header-anchor" href="#_2-视频文件处理"><span>2. 视频文件处理</span></a></h2><h3 id="_2-1-读取视频文件" tabindex="-1"><a class="header-anchor" href="#_2-1-读取视频文件"><span>2.1 读取视频文件</span></a></h3><p><mark>cv2.VideoCapture()</mark> 方法不仅可以打开本地摄像头，网络摄像头，也可以读取视频文件。这时候它的参数就不是数值了，而是视频文件的路径。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line">video_path <span class="token operator">=</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">capture <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>video_path<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>后续的操作，不管是用 imshow 显示出来，还是进行处理操作，跟之前都是一样的。那么，我们可以根据已经学过的知识，封装一个简易的视频播放的函数：</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">play_video</span><span class="token punctuation">(</span>video_path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    cap <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>video_path<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> cap<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">False</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;无法打开视频文件: </span><span class="token interpolation"><span class="token punctuation">{</span>video_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">False</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">        ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> cap<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">not</span> ret<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&quot;Video&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">        key <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment"># 多种退出方式</span></span>
<span class="line">        <span class="token keyword">if</span> key <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;Q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Q / ESC 键被按下，退出循环&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line">        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;空格键被按下，暂停播放&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">                key2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span></span>
<span class="line">                <span class="token keyword">if</span> key2 <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token keyword">break</span></span>
<span class="line">                <span class="token keyword">elif</span> key2 <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> key2 <span class="token operator">==</span> <span class="token number">27</span><span class="token punctuation">:</span></span>
<span class="line">                    cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    exit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment"># 检查窗口是否还存在，要注意：窗口名称一定要一致，这里是 Video</span></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>getWindowProperty<span class="token punctuation">(</span><span class="token string">&quot;Video&quot;</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>WND_PROP_VISIBLE<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;用户点击了关闭按钮(X)&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">    cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">True</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">path <span class="token operator">=</span> <span class="token string">&quot;D:\CodeReproduction\ReLayer\\frxxz_hanlijieyin.mp4&quot;</span></span>
<span class="line"><span class="token keyword">if</span> play_video<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;播放完成&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;播放失败&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><mark>cv2.getWindowProperty()</mark> 函数的作用是<strong>获取指定窗口的属性值</strong>，有两个参数，1 是窗口名称，2 是获取的属性 ID。<mark>cv2.WND_PROP_VISIBLE</mark> 有三个值，1 表示窗口可见（存在），0 表示窗口不可见（已被关闭），-1 表示窗口不存在。</p><figure><img src="/blog-vp-reco/cv/ImageProcessing/07_xxx/01_video1.png" alt="2.1 OpenCV 读取视频文件 - 韩立结婴" width="560" tabindex="0" loading="lazy"><figcaption>2.1 OpenCV 读取视频文件 - 韩立结婴</figcaption></figure><h3 id="_2-2-视频属性详解" tabindex="-1"><a class="header-anchor" href="#_2-2-视频属性详解"><span>2.2 视频属性详解</span></a></h3><p>在 1.3 小节，我们讲了视频流文件的<strong>通用基础属性</strong>：帧的宽度、帧的高度、帧率。在 1.7 的扩展中，还讲了<strong>编解码器与格式</strong>：FourCC。在这里我们主要讲解<strong>视频文件的特定属性</strong>：</p><ul><li><mark>cv2.CAP_PROP_POS_MSEC</mark>：当前时间戳（毫秒）。表示视频流的当前位置（从开始算起的时间）。常用于视频文件的精确跳转和进度显示。</li><li><mark>cv2.CAP_PROP_POS_FRAMES</mark>：当前帧的索引（从 0 开始）。表示下一帧将被解码的帧序号。用于获取当前位置或跳转到指定帧。</li><li><mark>cv2.CAP_PROP_POS_AVI_RATIO</mark>：视频文件的相对位置（0.0 到 1.0）。表示当前位置在总时长中的比例。用于实现进度条。</li><li><mark>cv2.CAP_PROP_FRAME_COUNT</mark>：视频文件的总帧数。结合 CAP_PROP_POS_FRAMES 可以计算播放进度。</li></ul><p>来做一个简单的小实验，反向播放视频。我们知道 <strong>CAP_PROP_POS_FRAMES</strong> 表示播放时的帧索引，而 <strong>CAP_PROP_FRAME_COUNT</strong> 表示总帧数，那我们就可以通过这两个参数，来实现视频的反向播放。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre><code><span class="line"><span class="token keyword">import</span> cv2</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">play_video</span><span class="token punctuation">(</span>video_path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    cap <span class="token operator">=</span> cv2<span class="token punctuation">.</span>VideoCapture<span class="token punctuation">(</span>video_path<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> cap<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token boolean">False</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;无法打开视频文件: </span><span class="token interpolation"><span class="token punctuation">{</span>video_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">False</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 从总帧数获取逆序的帧索引</span></span>
<span class="line">    frame_index <span class="token operator">=</span> cap<span class="token punctuation">.</span>get<span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_FRAME_COUNT<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 循环条件需要加一个 frame_index &gt;= 0</span></span>
<span class="line">    <span class="token keyword">while</span> cap<span class="token punctuation">.</span>isOpened<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span> frame_index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 设定视频流下一帧读取的帧索引，实现倒放视频</span></span>
<span class="line">        cap<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>cv2<span class="token punctuation">.</span>CAP_PROP_POS_FRAMES<span class="token punctuation">,</span> frame_index<span class="token punctuation">)</span></span>
<span class="line">        ret<span class="token punctuation">,</span> frame <span class="token operator">=</span> cap<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">not</span> ret<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">        cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">&quot;Video Backwards&quot;</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span></span>
<span class="line">        frame_index <span class="token operator">-=</span> <span class="token number">1</span></span>
<span class="line">        key <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> key <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;Q&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Q / ESC 键被按下，退出循环&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line">        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;空格键被按下，暂停播放&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">                key2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span></span>
<span class="line">                <span class="token keyword">if</span> key2 <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token keyword">break</span></span>
<span class="line">                <span class="token keyword">elif</span> key2 <span class="token operator">==</span> <span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">&#39;q&#39;</span><span class="token punctuation">)</span> <span class="token keyword">or</span> key2 <span class="token operator">==</span> <span class="token number">27</span><span class="token punctuation">:</span></span>
<span class="line">                    cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    exit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment"># 检查窗口是否还存在，要注意：窗口名称一定要一致，这里是 Video</span></span>
<span class="line">        <span class="token keyword">if</span> cv2<span class="token punctuation">.</span>getWindowProperty<span class="token punctuation">(</span><span class="token string">&quot;Video Backwards&quot;</span><span class="token punctuation">,</span> cv2<span class="token punctuation">.</span>WND_PROP_VISIBLE<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;用户点击了关闭按钮(X)&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">    cap<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">True</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">path <span class="token operator">=</span> <span class="token string">&quot;D:\CodeReproduction\ReLayer\\frxxz_hanlijieyin.mp4&quot;</span></span>
<span class="line"><span class="token keyword">if</span> play_video<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;播放完成&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;播放失败&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog-vp-reco/cv/ImageProcessing/07_xxx/01_video2.png" alt="2.2 OpenCV 倒放视频文件 - 韩立结婴" width="560" tabindex="0" loading="lazy"><figcaption>2.2 OpenCV 倒放视频文件 - 韩立结婴</figcaption></figure><h3 id="_2-3-扩展-剩余全部属性" tabindex="-1"><a class="header-anchor" href="#_2-3-扩展-剩余全部属性"><span>2.3 扩展：剩余全部属性</span></a></h3><p><strong>图像质量与处理：摄像头通用属性 1，归一化参数，取值范围为 [0, 1]</strong>：</p><ol><li><mark>cv2.CAP_PROP_BRIGHTNESS</mark>：亮度。0.0=最暗, 0.5=默认, 1.0=最亮。</li><li><mark>cv2.CAP_PROP_CONTRAST</mark>：对比度。0.0=最低对比度, 1.0=最高对比度。</li><li><mark>cv2.CAP_PROP_SATURATION</mark>：饱和度。0.0=黑白, 1.0=最大饱和度。</li><li><mark>cv2.CAP_PROP_HUE</mark>：色调。0.0=默认色调, 调整色彩相位。</li><li><mark>cv2.CAP_PROP_GAIN</mark>：增益。0.0=无增益, 值越大图像越亮但噪点可能越多。</li><li><mark>cv2.CAP_PROP_SHARPNESS</mark>：锐度。调整图像边缘的锐利程度。0.0=最柔和, 1.0=最锐利。</li><li><mark>cv2.CAP_PROP_GAMMA</mark>：伽马校正。通常 1.0=线性, 其他值进行伽马校正。</li><li><mark>cv2.CAP_PROP_BACKLIGHT</mark>：背光补偿。0.0=关闭, 1.0=最强背光补偿。</li></ol><p><strong>图像质量与处理：摄像头通用属性 2，特殊取值范围参数</strong>：</p><ol><li><strong>cv2.CAP_PROP_EXPOSURE</strong>：曝光。调整摄像头的曝光值，取值范围复杂，不同牌子不一样。</li><li><strong>cv2.CAP_PROP_TEMPERATURE</strong>：白平衡（色温）。实际色温值，如 2800（暖光）到 6500（冷光）开尔文。</li><li><strong>cv2.CAP_PROP_WHITE_BALANCE_BLUE_U</strong>：白平衡蓝色分量。归一化值或实际值，取决于驱动。</li><li><strong>cv2.CAP_PROP_AUTO_WB</strong>：自动白平衡。设置为 1 开启自动白平衡，0 则关闭。</li><li><strong>cv2.CAP_PROP_AUTO_EXPOSURE</strong>：自动曝光。在很多后端中，与自动白平衡共享同一个属性 ID。通常通过 cv2.CAP_PROP_EXPOSURE 的值来判断（如设置为某个特定值代表自动模式）。</li></ol><p><strong>图像质量与处理：云台摄像头专有属性</strong>：</p><ol><li>cv2.CAP_PROP_PAN：平移（水平方向）。用于云台摄像头。</li><li>cv2.CAP_PROP_TILT：倾斜（垂直方向）。用于云台摄像头。</li><li>cv2.CAP_PROP_ROLL：旋转。用于云台摄像头。</li></ol><p><strong>其他与后端相关的属性</strong>：</p><ol><li><mark>cv2.CAP_PROP_BUFFERSIZE</mark>：内部缓冲区的帧数。设置此值可以控制延迟，但并非所有后端都支持。</li><li>cv2.CAP_PROP_MODE：表示当前视频流模式的后端特定值。</li><li>cv2.CAP_PROP_CONVERT_RGB：布尔标志，指示是否应将帧转换为 RGB。通常为 True。</li><li>cv2.CAP_PROP_ISO_SPEED：ISO 感光度。用于调整摄像头传感器对光的敏感度。</li><li>cv2.CAP_PROP_ZOOM：变焦。用于控制摄像头的数字或光学变焦。</li><li>cv2.CAP_PROP_FOCUS：焦距。调整摄像头的对焦距离。</li></ol></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><!----></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← 07-信号与图像</span><span class="page-nav-item next">09-压缩与编码 → </span></p></nav><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-相机画面处理" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. 相机画面处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. 相机画面处理<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-1-读取相机画面" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.1 读取相机画面"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.1 读取相机画面<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-2-扩展-自定义按键退出" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.2 扩展：自定义按键退出"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.2 扩展：自定义按键退出<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-3-实时画面的属性" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.3 实时画面的属性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.3 实时画面的属性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-4-手动计算帧率" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.4 手动计算帧率"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.4 手动计算帧率<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-5-扩展-摄像头帧率分布" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.5 扩展：摄像头帧率分布"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.5 扩展：摄像头帧率分布<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-6-保存帧画面与视频" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.6 保存帧画面与视频"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.6 保存帧画面与视频<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-7-扩展-视频编码器与格式" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.7 扩展：视频编码器与格式"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.7 扩展：视频编码器与格式<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_1-8-读取-ip-摄像机" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1.8 读取 IP 摄像机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1.8 读取 IP 摄像机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_2-视频文件处理" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. 视频文件处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. 视频文件处理<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_2-1-读取视频文件" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2.1 读取视频文件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2.1 读取视频文件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_2-2-视频属性详解" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2.2 视频属性详解"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2.2 视频属性详解<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog-vp-reco/blogs/ComputerVision/ImageProcessing/OpenCV1/08_shipinliuchuli.html#_2-3-扩展-剩余全部属性" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2.3 扩展：剩余全部属性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2.3 扩展：剩余全部属性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/blog-vp-reco/assets/app-DPGM4BTH.js" defer></script>
  </body>
</html>
