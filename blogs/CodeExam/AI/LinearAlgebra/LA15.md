---
title: LA10.实现向量到直线的正交投影
date: 2025/09/30
categories:
  - 每日一题
tags:
  - AI题库
  - 线性代数
---

#### 难度：简单

实现一个函数来计算向量 v 在向量 L 上的正交投影。正交投影是将一个向量投影到另一个向量上，得到在该方向上最接近的向量。正交投影的计算公式为：

$$
proj_{L}(v)=\frac{v\cdot{L}}{||L||^{2}}\cdot{L}
$$

- **输入描述**：函数`transform_basis`接收两个参数：
  1. 第一行输入一个列表，表示向量 v。
  2. 第二行输入一个列表，表示向量 L。
- **输出描述**：返回一个列表，表示 v 在 L 上的正交投影向量。返回结果保留三位小数。

:::: code-group
::: code-group-item 代码框架

```py
def orthogonal_projection(v, L):
    return []

if __name__ == "__main__":
    v = eval(input())
    L = eval(input())
    print(orthogonal_projection(v, L))
```

:::

::: code-group-item 示例 1

```py
# 输入：
[3, 4]
[1, 0]

# 输出：
[3.0, 0.0]
```

:::
::::

---

#### 正交投影与 L2 范数

**向量范数的定义**：

1. L2 范数（欧几里得范数，最常用），就是我们平时说的向量长度或大小。在二维空间中：

$$
||L2||^{2}=\sqrt{L_{1}^{2}+L_{2}^{2}+\cdots+L_{n}^{2}}\approx{}\sqrt{x^{2}+y^{2}}
$$

2. L1 范数（曼哈顿范数），测量的是沿坐标轴的“走路距离”。比如向量 [3, -4]，L1 范数的结果就是 7：

$$
||L1||^{2}=|L_{1}^{2}|+|L_{2}^{2}|+\cdots+|L_{n}^{2}|
$$

3. $L\infty$ 范数（最大范数），取绝对值最大的分量作为“长度”。

$$
||L\infty||^{2}=max(|L_{1}^{2}|,|L_{2}^{2}|,\cdots,|L_{n}^{2}|)
$$

**什么是正交投影**？给定向量 𝑣 和一个非零向量 𝐿，我们想把 𝑣 “投影”到 𝐿 的方向上。换句话说，我们想找到一个向量 𝑝 在 𝐿 的方向上，且 𝑣−𝑝 与 𝐿 垂直。推导：

$$
\begin{aligned}
&\text{1. 假设投影向量可以写作：}p=\lambda{L} \\[1em]
&\text{2. 条件：𝑣−𝑝 与 𝐿 垂直：}(v-\lambda{L})\cdot{L}=v\cdot{L}-\lambda{L}\cdot{L}=0 \\[0.5em]
&\text{3. 解条件方程：}\lambda{=}\frac{v\cdot{L}}{L\cdot{L}}=\frac{v\cdot{L}}{||L||^{2}} \\[0.5em]
&\text{4. 投影向量最终公式：}proj_{L}(v)=\lambda{L}=\frac{v\cdot{L}}{||L||^{2}}\cdot{L}
\end{aligned}
$$

#### 解题思路 1：Python 数组手搓

Python 求平方根的方法有很多种：使用指数运算符 **\*\*0.5**、使用 **pow(x, 0.5)** 函数、使用 math 数学标准库 **math.sqrt(x)**。保留三位小数，可以使用 ==round(x,3)== 函数四舍五入，剩下的就是直接计算即可。

```py
def orthogonal_projection(v, L):
    length = len(L)
    L2 = sum([item*item for item in L])**0.5
    v_new = [v[i]*L[i] for i in range(length)]
    result = [round((v_new[i]/L2)*L[i], 3) for i in range(length)]
    return result
```
